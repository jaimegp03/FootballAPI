<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Liga de F√∫tbol - Inicio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<header class="hero-section">
    <h1>&#9917; Bienvenido a la Liga Deportiva de Retamar</h1>
    <p>Explora los datos de equipos, partidos y estad√≠sticas de la liga.</p>
</header>

<main class="landing">

    <!-- Estad√≠sticas generales -->
    <section class="estadisticas">
        <div class="dato-informativo">
            <i>&#128101;</i>
            <p>{{ total_equipos }} 12 equipos</p>
        </div>
        <div class="dato-informativo">
            <i>&#128100;</i>
            <p>{{ total_jugadores }} 176 jugadores</p>
        </div>
    </section>

    <!-- Tarjetas principales -->
    <div class="tarjetas">
        <!-- Tarjeta: Equipos -->
        <a href="{{ url_for('obtener_equipos') }}" class="tarjeta">
            <h2>&#128101; Equipos</h2>
            <p>Ver todos los equipos registrados en la base de datos.</p>
        </a>

        <!-- Tarjeta: Clasificaci√≥n -->
        <a href="{{ url_for('obtener_clasificacion') }}" class="tarjeta">
            <h2>&#127942; Clasificaci√≥n</h2>
            <p>Consulta la tabla de posiciones actualizada.</p>
        </a>

        <!-- Tarjeta: Horario de partidos -->
        <a href="{{ url_for('obtener_horario_partidos') }}" class="tarjeta">
            <h2>&#128197; Horario de Partidos</h2>
            <p>Consulta las fechas y horarios de todos los partidos.</p>
        </a>

        <!-- Tarjeta: M√°ximos Goleadores -->
        <a href="{{ url_for('obtener_maximos_goleadores') }}" class="tarjeta">
            <h2>ü•Ö M√°ximos Goleadores</h2>
            <p>Consulta la lista de los jugadores con m√°s goles en la liga.</p>
        </a>
    </div>

    <!-- M√°ximos goleadores -->
    {% if maximos_goleadores %}
        <section class="seccion-goleadores">
            <h2>&#127945; Jugadores Destacados</h2>
            <ul>
                {% for goleador in maximos_goleadores[:5] %}
                    <li>
                        {{ goleador[0] }} - {{ goleador[1] }} ‚û§ <strong>{{ goleador[2] }}</strong> goles
                    </li>
                {% endfor %}
            </ul>
        </section>
    {% endif %}

    <!-- Insertar Datos -->
    {% if mostrar_insertar %}

        <hr style="margin-top: 50px; margin-inline: 100px;">

        <section class="insertar-datos">
            <h2>&#10133; Insertar Datos</h2>
            <ul>
                <li><a href="{{ url_for('nuevo_equipo') }}">A√±adir un nuevo equipo</a></li>
                <li><a href="{{ url_for('nuevo_jugador') }}">A√±adir un nuevo jugador</a></li>
                <li><a href="{{ url_for('nuevo_partido') }}">A√±adir un nuevo partido</a></li>
            </ul>
        </section>
    {% else %}

         <!-- Chat con IA -->
        <section class="insertar-datos">
            <h2>&#x1F916; Chat con IA</h2>
            <ul>
                <li><a href="{{ url_for('chat') }}">Habla con el asistente de f√∫tbol</a></li>
            </ul>
        </section>
        
        <!-- Enlace de Login (si no es admin) -->
        <section class="login-link">
            <h2>&#128274; Acceso Administradores</h2>
            <p>
                <a href="{{ url_for('login') }}" class="btn-login">Iniciar Sesi√≥n</a>
            </p>
        </section>
    {% endif %}

    <style>
        .centrado {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
        }
    </style>

    <!-- Bot√≥n de Cerrar sesi√≥n -->
    <section class="centrado">
        <p>
            {% if session.get('user') %}
                <a href="{{ url_for('logout') }}" class="btn-login">Cerrar sesi√≥n</a>
            {% endif %}
        </p>
    </section>

</main>

<footer>
    <p>Proyecto realizado con Flask & SQLite</p>
</footer>
